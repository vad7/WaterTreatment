<html>
<head>
	<title>Система. Водоподготовка.</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type='text/javascript' src='scripts.js'></script>
	<script type="text/javascript">
		window.onload = function() { //clock();
		updateParam("get_resetCause,get_uptime,get_tDS,get_startDT,get_freeRam,get_sysInfo");
	};
	</script>
</head>
<body class="about">
<div id="menu" class="menu"><script src="menu.js"></script></div>
<div class="content">
<h1>Система <input type="submit" value="Сохранить статистику (1)" onclick='loadParam("set_SAVE_STATS")'> <input type="submit" value="Подготовка к обновлению" onclick='loadParam("set_SAVE_UPD")' style="float:right;margin-right:10px;"></h1>
<div class="row1">
<table>
	<thead><tr><th>Параметр</th><th>Значение</th></tr></thead>
	<tbody>
		<tr><td>Время с последней перезагрузки</td><td id="get_uptime"></td></tr>
		<tr><td>Последний сброс</td><td id="get_startdt"></td></tr>
		<tr><td>Причина последнего сброса контроллера</td><td id="get_resetcause"></td></tr>
		<tr><td>Температура платы</td><td id="get_tds"></td></tr>
		<tr><td>Свободная память</td><td id="get_freeram"></td></tr>
	</tbody>
	<tbody id="get_sysinfo">
	</tbody>
</table>
<br>
<input type="submit" value="Сброс контроллера" onclick='if(confirm("Перезагрузить контроллер?")) loadParam("RESET_DUE",true);'>
<input type="submit" value="Сброс W5200" onclick='loadParam("RESET_NET",true)'>
<input type="submit" value="Сброс счетчиков" onclick='if(document.getElementById("reset_code").value=="RESET") loadParam("RESET_CNT,RELOAD")'> Введите RESET: <input id="reset_code" size="7">
<br><br>
1. Запись накопленных данных за последний день, нужно делать перед обновлением прошивки.<br>
2. Старший байт номер задачи (номер см. на странице ОС RTOS), младший байт код ошибки (1-configASSERT fails, 2-malloc fails, 3-stack overflow, 4-hard fault, 5-bus fault, 6-usage fault, 7-crash data)<br>
3. Установка флага: Сервис - Сеть - Ежеминутный контроль связи с w5500, и при необходимости его сброс<br>
</div>
</div>
</body>
</html>

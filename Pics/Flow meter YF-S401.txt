Датчик расхода воды YF-S401
Согласно datasheet, если через датчик пропустить 1л воды, то с него будет получено 5880 импульсов. В действительности количество импульсов на 1л будет разным при разных скоростях потока воды. Мы предлагаем использовать формулу: Q = F / (5,9F + 4570), где Q - скорость потока воды (л/с), F - количество импульсов в секунду (частота), 5,9 - коэффициент нелинейности, 4570 - линейный коэффициент (вместо 5880 от datasheet).

Датчик расхода воды YF-S401 состоит из пластикового корпуса, клапана, водяного ротора с магнитами и датчика Холла. Скорость вращения ротора прямо пропорциональна скорости водяного потока. Чем выше скорость, тем чаще магниты проходит рядом с датчиком Холла, тем больше импульсов на информационном выводе датчика.

Формула расхода воды: F = 98 Q => Q = F / 98.

F - частота импульсов в Гц (количество импульсов с датчика за 1 секунду).
Q - скорость потока воды в л/м, (количество литров прошедшее через датчик за 1 минуту).
Приведённая выше зависимость (из datasheet на датчик) не учитывает влияние скорости. Мы предлагаем определять расход воды по выведенной нами формуле:

Формула расхода воды: Q = F / (5,9F + 4570).

F - частота импульсов в Гц (количество импульсов с датчика за 1 секунду).
Q - скорость потока воды в л/с, (количество литров прошедшее через датчик за 1 секунду).
5,9 - коэффициент учитывающий влияние скорости на количество импульсов.
4570 - коэффициент линейной зависимости количества импульсов от объема воды.
Формула определения объема воды: V = ∑ (Q*T).

V - объем воды прошедшей через датчик.
Q - скорость потока воды.
T - время в течении которого сохранялась указанная скорость потока воды Q.
Единцы измерений должны быть приведены друг к другу.
Если скорость Q указана в л/с то время T нужно указать в сек., а объем V будет в литрах.
Если скорость Q указана в см3/м то время T нужно указать в мин., а объем V будет в см3.
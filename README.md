# Контроллер водоподготовки и водоснабжения
Для контроллера используется плата Arduino DUE или Arduino DUE Core (ARM SAM3x8e).<br>

Также, как минимум, нужны платы: реле, часов DS3231 + EEPROM, сети на W5500.<br>
Детальное описание: http://vad-7.blogspot.com/2019/12/blog-post.html <br>
<br>
Возможности (версия 1.1.72):<br>
* Управление дозатором реагента по расходу
* Промывка двух фильтров (например - обезжелезивателя, умягчителя) по времени и по расходу<br>
* Управление насосной станцией по датчику давления воды, защита от перегрузки и сухого хода<br>
* Глубокий контроль рабочего состояния системы
* Графический веб-интерфейс с поддержкой мобильных устройств<br>
* Текстовый дисплей LCD2004, кнопки управления<br>
* Расширенная статистика с записью на SD карту<br>
* Оповещения о сбоях через email или sms.<br>
* Modbus RTU - Счетчик электричества (PZEM-004Tv3/PZEM-0xx), платы Реле. Автовыбор портов 1-3<br>
* Весы на плате HX711 для контроля уровня реагента<br>
* Аналоговый датчик уровня воды 4-20 mA<br>
* Датчик температуры DS18B20 или NTC<br>
* Контроль протечек (датчики XKC-Y25), затопления (датчики типа поплавок), переполнения бака<br>
* Контроль работы дренажного насоса (вторая шина Modbus-RTU), с возможностью отключения через Modbus реле, защита от сухого хода и перегрузки<br>
* Возможность подключения счетчика питьевого фильтра (обратного осмоса)<br>
* Управление подогревом септика<br>
* Контроль насоса откачки септика, реле насоса септика, возможность работы со сломаным поплавком или без поплавка<br>
* Другая автоматизация (например, вентилирование газов - радона и сероводорода, слив осадка бака)<br>
* Расширенный контроль безопасности (сухой ход и перегрузка НС, незакрытый кран, забитый инжектор и т.п.)<br>
* Датчик протока (FS-K2) фильтра питевой воды (обратный осмос), поддержка повышенного давления воды при заполнении ОС фильтра
* Таймеры (ежесуточные и периодические), включение обычных реле и Modbus

<br>

![Схема](https://user-images.githubusercontent.com/6220128/74215978-07636480-4cb4-11ea-9e3d-3f5de4c28e7e.png)
![Схема_2](https://user-images.githubusercontent.com/6220128/74628434-c8775800-5166-11ea-897a-9724357ab9e7.png)
![Датчики](https://user-images.githubusercontent.com/6220128/74216039-2f52c800-4cb4-11ea-9294-9f23727f4b40.png)
![Плата](https://user-images.githubusercontent.com/6220128/74216629-0df2db80-4cb6-11ea-9af6-9b545f193d46.png)
